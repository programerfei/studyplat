(function(e){function t(t){for(var a,i,o=t[0],c=t[1],l=t[2],h=0,d=[];h<o.length;h++)i=o[h],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],a=!0,o=1;o<s.length;o++){var c=s[o];0!==n[c]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=s[0]))}return e}var a={},n={app:0},r=[];function i(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=a,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(s,a,function(t){return e[t]}.bind(null,a));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";s("85ec")},"056b":function(e,t,s){"use strict";s("daae")},1:function(e,t){},"129e":function(e,t,s){},"16f9":function(e,t,s){"use strict";s("6294")},1919:function(e,t,s){"use strict";s("8f37")},1947:function(e,t,s){},"1d5f":function(e,t,s){"use strict";s("1947")},"226a":function(e,t,s){"use strict";s("8d9b")},"2ece":function(e,t,s){"use strict";s("e8d3")},3179:function(e,t,s){e.exports=s.p+"img/lt_un.e7578691.png"},"326a":function(e,t,s){e.exports=s.p+"img/wode_un.9844369e.png"},3424:function(e,t,s){e.exports=s.p+"img/zhuye-un.d782503f.png"},"343c":function(e,t,s){"use strict";s("8534")},"34d3":function(e,t,s){e.exports=s.p+"img/zhushou.21cd4548.png"},3758:function(e,t,s){},"3ae5":function(e,t,s){},"403c":function(e,t,s){},"43e1":function(e,t,s){"use strict";s("403c")},4535:function(e,t,s){e.exports=s.p+"img/zhushou_un.38bc8d1b.png"},4598:function(e,t,s){"use strict";s("5650")},5650:function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("a4d3"),s("e01a"),s("d3b7");var a=s("d4ec"),n=s("bee2"),r=(s("e260"),s("e6cf"),s("cca6"),s("a79d"),s("2b0e")),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app"},[s("router-view")],1)},o=[],c=(s("034f"),s("2877")),l={},u=Object(c["a"])(l,i,o,!1,null,null,null),h=u.exports,d=(s("b0c0"),s("96cf"),s("1da1")),m=s("8c4f"),p=s("2f62");r["default"].use(p["a"]);var g=new p["a"].Store({state:{userMail:"",userId:"37974253",userName:"quan",sex:0,loginState:!1,userImage:"http://www.shuoshuodaitupian.com/images/avatar_selection/avatar0011.jpg",sign:"555555555",introduction:"6666666666",currentId:""},mutations:{initialState:function(e,t){e.userMail=t.usermail,e.userName=t.username,e.sex=t.sex,e.sign=t.sign,e.introduction=t.introduction,e.userImage=t.userImage,e.userId=t.userId,e.loginState=!0},changeStates:function(e,t){e.userName=t.username,e.sex=t.sex,e.sign=t.sign,e.introduction=t.introduction,e.userImage=t.userImage},changeId:function(e,t){e.currentId=t.currentId},changeLoginStates:function(e,t){e.loginState=t.loginState},changeUserImage:function(e,t){e.userImage="http://121.196.154.219:8083/heads/"+t.userImage}},actions:{},modules:{}}),f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login_page"},[s("div",{staticClass:"login"},[s("h2",[e._v("用户登录")]),s("div",{staticClass:"login_box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",required:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),s("label",[e._v("账号")])]),s("div",{staticClass:"login_box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",required:"required"},domProps:{value:e.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)},input:function(t){t.target.composing||(e.password=t.target.value)}}}),s("label",[e._v("密码")])]),s("div",{staticClass:"loginFooter"},[s("button",{staticClass:"loginButton",on:{click:e.login}},[e._v("登录")]),s("button",{staticClass:"loginButton",on:{click:e.regist}},[e._v("注册")])])])])},v=[],w=(s("a9e3"),s("bc3a")),x=s.n(w),b=x.a.create({baseURL:"http://192.168.1.109:8083",timeout:5e3});b.interceptors.response.use((function(e){return e.data}));var y=function(e,t,s){return b({url:"/user/regist",method:"GET",params:{username:e,usermail:t,password:s}})},k=function(e,t){return b({url:"/user/login",method:"GET",params:{userid:e,password:t}})},C=function(e,t){return b({url:"/user/login",method:"GET",params:{usermail:e,password:t}})},N=function(e,t,s,a,n,r){return b({url:"/user/updateuserinfo",method:"GET",params:{userid:e,username:t,gender:s,signature:a,introduction:n,headportrait:r}})},$=function(e){return b({url:"/user/checkState",method:"GET",params:{userid:e}})},_=function(e){return b({url:"/news/findnewsinfo",method:"GET",params:{currentPage:e}})},I=function(e){return b({url:"/news/findnewsbyid",method:"GET",params:{newsid:e}})},S=function(e){return b({url:"/info/findrewardinfo",method:"GET",params:{currentPage:e}})},L=function(e,t){return b({url:"/info/findrewardbystr",method:"GET",params:{production:e,currentPage:t}})},T=function(e,t){return b({url:"/info/findrewardbyName",method:"GET",params:{production:e,currentPage:t}})},j=function(e,t){return b({url:"/info/findAllRewards",method:"GET",params:{userid:e,currentPage:t}})},P=function(e,t){return b({url:"/info/findrewardbyid",method:"GET",params:{commentid:e,hits:t}})},O=function(e,t,s){return b({url:"/info/updateinfo",method:"GET",params:{userid:e,rewardinfo:t,images:s}})},R=function(e){return b({url:"/info/deleteinfo",method:"GET",params:{commentid:e}})},D=function(e){return b({url:"/study/findstudyinfo",method:"GET",params:{currentPage:e}})},U=function(e,t){return b({url:"/study/findstudybystr",method:"GET",params:{production:e,currentPage:t}})},E=function(e,t){return b({url:"/study/findstudybyName",method:"GET",params:{production:e,currentPage:t}})},M=function(e,t){return b({url:"/study/findAllStudy",method:"GET",params:{userid:e,currentPage:t}})},q=function(e,t){return b({url:"/study/findstudybyid",method:"GET",params:{studyplatid:e,hits:t}})},B=function(e,t,s,a,n,r,i){return b({url:"/study/updatestudy",method:"GET",params:{userid:e,studyinfo:t,images:s,videos:a,files:n,videoname:r,filename:i}})},H=function(e){return b({url:"/study/deletestudy",method:"GET",params:{studyplatid:e}})},Y=function(e,t){return b({url:"/study/findreplyinfo",method:"GET",params:{studyplatid:e,currentPage:t}})},G=function(e,t,s,a,n){return b({url:"/study/updatereply",method:"GET",params:{userid:e,username:t,replyinfo:s,studyplatid:a,headportrait:n}})},z=function(e){return b({url:"/study/deletereply",method:"GET",params:{replyid:e}})},F={data:function(){return{username:"",password:""}},methods:{login:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=Number(e.username),console.log(isNaN(s)),a="",!isNaN(s)){t.next=9;break}return t.next=6,C(e.username,e.password);case 6:a=t.sent,t.next=12;break;case 9:return t.next=11,k(e.username,e.password);case 11:a=t.sent;case 12:console.log(a),a.success?(e.$message.info("登录成功"),sessionStorage.setItem("loginState",!0),sessionStorage.setItem("userName",a.detail.username),sessionStorage.setItem("userId",a.detail.userid),sessionStorage.setItem("userMail",a.detail.usermail),sessionStorage.setItem("sex",a.detail.gender),sessionStorage.setItem("sign",a.detail.signature),sessionStorage.setItem("introduction",a.detail.introduction),sessionStorage.setItem("userImage",a.detail.headportrait),e.$store.commit("initialState",{username:a.detail.username,userId:a.detail.userid,userMail:a.detail.usermail,sex:a.detail.gender,sign:a.detail.signature,introduction:a.detail.introduction,userImage:a.detail.headportrait}),e.$router.push({path:"./main"})):e.$message.warning(a.msg);case 14:case"end":return t.stop()}}),t)})))()},regist:function(){this.$router.push({path:"/regist"})}}},V=F,A=(s("d6f3"),Object(c["a"])(V,f,v,!1,null,"ee924c7c",null)),J=A.exports,X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login_page"},[s("div",{staticClass:"login"},[s("h1",[e._v("用户注册")]),s("div",{staticClass:"login_box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.usermail,expression:"usermail"}],staticClass:"mail",attrs:{type:"text",required:"required",spellcheck:"false"},domProps:{value:e.usermail},on:{input:function(t){t.target.composing||(e.usermail=t.target.value)}}}),s("label",[e._v("邮箱")]),s("label",{directives:[{name:"show",rawName:"v-show",value:!e.mailCorrect,expression:"!mailCorrect"}],staticClass:"mailJudge",attrs:{for:"mail"}},[e._v("邮箱有误")])]),s("div",{staticClass:"login_box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",required:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),s("label",[e._v("用户名")])]),s("div",{staticClass:"login_box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",required:"required"},domProps:{value:e.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.regist(t)},input:function(t){t.target.composing||(e.password=t.target.value)}}}),s("label",[e._v("密码")])]),s("div",{staticClass:"loginFooter"},[s("button",{staticClass:"loginButton",on:{click:e.login}},[e._v("登录")]),s("button",{staticClass:"loginButton",on:{click:e.regist}},[e._v("注册")])])])])},W=[],K={data:function(){return{username:"",usermail:"",password:"",mailCorrect:!0}},methods:{login:function(){this.$router.push({path:"/login"})},regist:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s,a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e,t.next=3,y(s.username,s.usermail,s.password);case 3:if(a=t.sent,console.log(a),console.log(a.detail),!a.success){t.next=15;break}if(n=confirm("已完成邮箱激活"),!n){t.next=13;break}return t.next=11,$(a.detail.userid);case 11:r=t.sent,r.success?(e.$message.info("注册成功"),e.$router.push({path:"./login"})):e.$message.warning(r.msg);case 13:t.next=16;break;case 15:e.$message.warning(a.msg);case 16:case"end":return t.stop()}}),t)})))()}},watch:{usermail:function(){var e=/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/;e.test(this.usermail)?this.mailCorrect=!0:this.mailCorrect=!1}}},Q=K,Z=(s("e069"),Object(c["a"])(Q,X,W,!1,null,"40c06b7b",null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bswrapper"},[s("div",{staticClass:"content"},[s("div",{staticClass:"mainPage"},[s("my-navbar"),s("div",{staticClass:"block"},[s("swiper",{staticClass:"czp",attrs:{options:e.swiperOption}},[e._l(e.newsData,(function(t,a){return s("swiper-slide",{key:t.id},[a<5?s("newsimg",{attrs:{id:t.newsid,text:t.newstitle,imgUrl:t.newsimages[0]}}):e._e()],1)})),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1),s("newslist",{staticClass:"newslist",attrs:{newsData:e.newsData}})],1)]),s("div",{staticClass:"mainFooter"},[s("my-tabbar",{staticClass:"tabbar",attrs:{activeIndex:"1"}})],1)])},se=[],ae=(s("99af"),s("ade3")),ne=s("2909"),re=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ie=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"nav_page"},[s("span",[e._v("首页")])])}],oe={data:function(){return{activeIndex:"1",keyword:""}},methods:{handleSelect:function(e,t){console.log(e,t)},login:function(){this.$router.push({path:"/login"})}}},ce=oe,le=(s("bee0"),Object(c["a"])(ce,re,ie,!1,null,"9357af0c",null)),ue=le.exports,he=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tab_page"},[s("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal"}},[s("div",{staticClass:"itembox",on:{click:e.move1}},[s("img",{attrs:{src:e.homeUrl}}),s("el-menu-item",{staticClass:"tabItem",attrs:{index:"1"}},[e._v("主页")])],1),s("div",{staticClass:"itembox",on:{click:e.move2}},[s("img",{attrs:{src:e.helperUrl}}),s("el-menu-item",{staticClass:"tabItem",attrs:{index:"2"}},[e._v("小帮手")])],1),s("div",{staticClass:"itembox",on:{click:e.move3}},[s("img",{attrs:{src:e.ltUrl}}),s("el-menu-item",{staticClass:"tabItem",attrs:{index:"3"}},[e._v("消息")])],1),s("div",{staticClass:"itembox",on:{click:e.move4}},[s("img",{attrs:{src:e.profileUrl}}),s("el-menu-item",{staticClass:"tabItem",attrs:{index:"4"}},[e._v("我的")])],1)])],1)},de=[],me={data:function(){return{}},props:{activeIndex:{type:String}},computed:{homeUrl:function(){return"1"===this.activeIndex?s("df0a"):s("3424")},helperUrl:function(){return"2"===this.activeIndex?s("34d3"):s("4535")},ltUrl:function(){return"3"===this.activeIndex?s("66ef"):s("3179")},profileUrl:function(){return"4"===this.activeIndex?s("e259"):s("326a")}},methods:{login:function(){this.$router.push({path:"/login"})},move1:function(){this.$router.push({path:"/main"})},move2:function(){this.$router.push({path:"/helper"})},move3:function(){this.$router.push({path:"/chat"})},move4:function(){this.$router.push({path:"/profile"})}}},pe=me,ge=(s("e755"),Object(c["a"])(pe,he,de,!1,null,"39b3a962",null)),fe=ge.exports,ve=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"newsImg",on:{click:e.toDetail}},[s("img",{attrs:{src:e.imgUrl}}),s("span",[e._v(e._s(e.text))])])},we=[],xe={props:{id:{type:Number,default:0},text:{type:String,default:"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"},imgUrl:{type:String,default:"https://picsum.photos/460/360?random=1"}},methods:{toDetail:function(){this.$router.push({path:"/newsdetail",query:{id:this.id}})}}},be=xe,ye=(s("ed1c"),Object(c["a"])(be,ve,we,!1,null,"4d16e45e",null)),ke=ye.exports,Ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"newsListBox"},e._l(e.newsData,(function(e){return s("news",{key:e.newsid,staticClass:"listItem",attrs:{fileaddress:e.newsimages,id:e.newsid,username:e.author,title:e.newstitle,contentText:e.newsinfo,date:e.newstime}})})),1)},Ne=[],$e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"newsBox",on:{click:e.toDetail}},[s("div",{staticClass:"newsText"},[e._v(e._s(e.title))]),s("div",{staticClass:"newsImg"},[s("ul",e._l(e.fileaddress,(function(t,a){return s("li",{directives:[{name:"show",rawName:"v-show",value:a<3,expression:"index < 3"}],key:a},[s("img",{attrs:{src:e.fileaddress[a]}})])})),0)]),s("div",{staticClass:"newsIntroduction"},[s("div",{staticClass:"newsAuthor"},[e._v(e._s(e.username))]),s("div",{staticClass:"newsDare"},[e._v(e._s(e.currentData))])])])},_e=[],Ie=s("5a0c"),Se=s.n(Ie),Le={props:{title:{type:String,default:""},fileaddress:{type:Array,default:""},contentText:{type:String,default:""},date:{type:String,default:""},id:{type:Number,default:0},username:{type:String,default:""}},methods:{toDetail:function(){this.$router.push({path:"/newsdetail",query:{id:this.id}})}},computed:{currentData:function(){return Se()(this.date).format("YYYY年MM月DD日 HH:mm:ss")}}},Te=Le,je=(s("c71d"),Object(c["a"])(Te,$e,_e,!1,null,null,null)),Pe=je.exports,Oe={components:{news:Pe},methods:{},props:{newsData:{type:Array,default:[{id:1,username:"quan",title:"这是一个大新闻",contentText:"23333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333",fileaddress:["https://picsum.photos/460/360?random=1","https://picsum.photos/460/360?random=5","https://picsum.photos/460/360?random=6"],date:"2021-1-11"},{id:2,username:"quan",title:"这是一个大大大大大大大新闻",contentText:"2333333333",fileaddress:["https://picsum.photos/460/360?random=7","https://picsum.photos/460/360?random=8","https://picsum.photos/460/360?random=9"],date:"2021-1-16"},{id:3,username:"quan",title:"这是一个大大大大大大大大大大大大大大大大大大大大大大大大大大大大大大大大大大大大大大大大大大大大大大大大大新闻",contentText:"2333333333",fileaddress:["https://picsum.photos/460/360?random=11"],date:"2021-1-16"}]}}},Re=Oe,De=Object(c["a"])(Re,Ce,Ne,!1,null,null,null),Ue=De.exports,Ee=(s("dfa4"),s("7212")),Me=s.n(Ee),qe=s("f40f"),Be={data:function(){return{initState:!0,pageNum:1,totalNum:1,showLoading:!1,newsData:[],swiperOption:{pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:3e3}}}},components:{"my-navbar":ue,"my-tabbar":fe,newsimg:ke,newslist:Ue,swiper:Ee["swiper"],swiperSlide:Ee["swiperSlide"]},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.pageNum),t.next=3,_(1);case 3:s=t.sent,console.log(s),e.newsData=s.detail,e.totalNum=s.pageNumber,e.pageNum=2;case 8:case"end":return t.stop()}}),t)})))()},mounted:function(){this.loadData()},methods:{swiperright:function(){console.log("r"),prev()},swiperleft:function(){console.log("l"),next()},getData:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log("startget"),s={},t.next=5,_(e.pageNum);case 5:s=t.sent,e.newsData=[].concat(Object(ne["a"])(e.newsData),Object(ne["a"])(s.detail)),console.log(s),console.log("chushihua"),e.pageNum++,console.log(e.pageNum),t.next=15;break;case 13:t.prev=13,t.t0=t["catch"](0);case 15:case"end":return t.stop()}}),t,null,[[0,13]])})))()},loadData:function(){var e=this;this.$nextTick((function(){var t=document.querySelector(".bswrapper");e.scroll=new qe["a"](t,Object(ae["a"])({pullUpLoad:!0,click:!0,tap:!0},"pullUpLoad",{threshold:-30})),console.log(e.scroll),e.scroll.on("pullingUp",Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.pageNum>e.totalNum)){t.next=6;break}return e.$message.info("到底啦别拉了"),e.showLoading=!1,t.abrupt("return");case 6:return e.showLoading=!0,console.log("获取中"),t.next=10,e.getData();case 10:console.log("获取完");case 11:e.scroll.finishPullUp();case 12:case"end":return t.stop()}}),t)}))))}))}},updated:function(){this.scroll.refresh(),this.scroll.finishPullUp()}},He=Be,Ye=(s("fcde"),Object(c["a"])(He,te,se,!1,null,"4a2b6e07",null)),Ge=Ye.exports,ze=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"profileMain"},[s("div",{staticClass:"box"},[s("div",{staticClass:"profileHeader"},[s("v-touch",{on:{touchstart:e.start}},[s("img",{attrs:{src:e.$store.state.userImage,id:"profileImg"},on:{click:e.toMypersonalPage}})]),s("el-upload",{staticClass:"upload-demo",attrs:{action:"http://121.196.154.219:8083/headimages","show-file-list":!1,"on-error":e.showError,"on-success":e.showSuccess}},[s("el-button",{attrs:{size:"small",type:"primary",id:"changePhoto"}},[e._v("点击上传头像")]),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 只能上传jpg/png文件，且不超过500kb ")])],1),s("span",{attrs:{id:"profileUsername"}},[e._v(e._s(e.$store.state.userName))])],1),s("div",{attrs:{id:"profileTitle"}},[e._v("账户设置")]),s("div",{staticClass:"profileMiddle"},[s("div",{staticClass:"item"},[e._v(" 性别： "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.$store.state.sex,expression:"$store.state.sex"}],staticStyle:{"margin-left":"3px","margin-right":"3px"},attrs:{type:"radio",value:"1"},domProps:{checked:e._q(e.$store.state.sex,"1")},on:{change:function(t){return e.$set(e.$store.state,"sex","1")}}}),e._v("男 "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.$store.state.sex,expression:"$store.state.sex"}],staticStyle:{"margin-left":"3px","margin-right":"3px"},attrs:{type:"radio",value:"2"},domProps:{checked:e._q(e.$store.state.sex,"2")},on:{change:function(t){return e.$set(e.$store.state,"sex","2")}}}),e._v("女 "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.$store.state.sex,expression:"$store.state.sex"}],staticStyle:{"margin-left":"3px","margin-right":"3px"},attrs:{type:"radio",value:"0"},domProps:{checked:e._q(e.$store.state.sex,"0")},on:{change:function(t){return e.$set(e.$store.state,"sex","0")}}}),e._v("其他 ")]),s("div",{staticClass:"item"},[s("label",{attrs:{for:"nickNameBox"}},[e._v("用户名：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.$store.state.userName,expression:"$store.state.userName"}],staticClass:"profileInputbox",staticStyle:{"padding-left":"5px"},attrs:{type:"text",placeholder:"请输入昵称"},domProps:{value:e.$store.state.userName},on:{input:function(t){t.target.composing||e.$set(e.$store.state,"userName",t.target.value)}}})]),s("div",{staticClass:"item"},[s("label",{attrs:{for:"nickNameBox"}},[e._v("签名：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.$store.state.sign,expression:"$store.state.sign"}],staticClass:"profileInputbox",staticStyle:{"padding-left":"5px"},attrs:{type:"text",placeholder:"请输入签名"},domProps:{value:e.$store.state.sign},on:{input:function(t){t.target.composing||e.$set(e.$store.state,"sign",t.target.value)}}})]),s("div",{staticClass:"profileIntroduction"},[s("label",{attrs:{for:"nickNameBox"}},[e._v("简介：")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.$store.state.introduction,expression:"$store.state.introduction"}],staticStyle:{resize:"none",padding:"5px"},attrs:{name:"简介",id:"introduction",cols:"30",rows:"10"},domProps:{value:e.$store.state.introduction},on:{input:function(t){t.target.composing||e.$set(e.$store.state,"introduction",t.target.value)}}})])]),s("div",{staticClass:"profileFooter"},[s("el-button",{staticClass:"profileSubmit",on:{click:e.update}},[e._v("提交")]),s("el-button",{staticClass:"quit",attrs:{type:"danger"},on:{click:e.quit}},[e._v("退出登录")])],1)]),s("my-tabbar",{staticClass:"tabbar",attrs:{activeIndex:"4"}})],1)},Fe=[],Ve={data:function(){return{userImg:this.$store.state.userImage}},components:{"my-tabbar":fe},methods:{toMypersonalPage:function(){this.$router.push({path:"/mypersonalpage"})},start:function(){console.log("start")},showError:function(e,t,s){console.log(e)},showSuccess:function(e,t,s){var a=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),a.$store.commit("changeUserImage",{userImage:e.detail}),console.log(a.$store.state.userImage),t.next=5,N(a.$store.state.userId,a.$store.state.userName,a.$store.state.sex,a.$store.state.sign,a.$store.state.introduction,a.$store.state.userImage);case 5:s=t.sent,console.log(s),a.$message.info(e.msg);case 8:case"end":return t.stop()}}),t)})))()},update:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return sessionStorage.setItem("loginState",!0),sessionStorage.setItem("userName",e.$store.state.userName),sessionStorage.setItem("sex",e.$store.state.sex),sessionStorage.setItem("sign",e.$store.state.sign),sessionStorage.setItem("introduction",e.$store.state.introduction),sessionStorage.setItem("userImage",e.$store.state.userImage),t.next=8,N(e.$store.state.userId,e.$store.state.userName,e.$store.state.sex,e.$store.state.sign,e.$store.state.introduction,e.$store.state.userImage);case 8:s=t.sent,e.$store.commit("changeStates",{sex:e.$store.state.sex,username:e.$store.state.userName,sign:e.$store.state.sign,introduction:e.$store.state.introduction,userImage:e.userImg}),console.log(s),e.$message.info("修改成功");case 12:case"end":return t.stop()}}),t)})))()},quit:function(){sessionStorage.setItem("loginState",!1),this.$store.commit("changeLoginStates",{loginState:!1}),this.$router.push({path:"/login"})}}},Ae=Ve,Je=(s("16f9"),Object(c["a"])(Ae,ze,Fe,!1,null,"36c94653",null)),Xe=Je.exports,We=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"newsdetail"},[s("i",{staticClass:"el-icon-back",on:{click:e.back}}),s("div",{staticClass:"newsdetailheader"},[s("h2",{staticClass:"newsdetailtitle"},[e._v(e._s(e.title))])]),s("div",{staticClass:"newsDetailMiddle"},[s("div",{staticClass:"newsdetailAuthor"},[e._v(e._s(e.author))]),s("div",{staticClass:"newsdetailDate"},[e._v(e._s(e.currentData))])]),s("div",{staticClass:"newsDetailMain"},[s("div",{staticClass:"content"},[s("swiper",{staticClass:"czp",attrs:{options:e.swiperOption}},[e._l(e.imgUrls,(function(e){return s("swiper-slide",{key:e},[s("img",{attrs:{src:e,preview:"","preview-text":"新闻"}})])})),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2),s("v-touch",{ref:"wrapper",staticClass:"wrapper",on:{swiperight:e.swiperright}},[s("div",{staticClass:"newsContext"},[e._v(" "+e._s(e.context)+" ")])])],1)])])},Ke=[],Qe={components:{swiper:Ee["swiper"],swiperSlide:Ee["swiperSlide"]},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I(e.$route.query.id);case 2:s=t.sent,console.log(s),e.id=s.newsid,e.title=s.newstitle,e.author=s.author,e.context=s.newsinfo,e.imgUrls=s.newsimages,e.date=s.newstime,e.$previewRefresh();case 11:case"end":return t.stop()}}),t)})))()},mounted:function(){this.myscroll();var e=document.getElementsByClassName(".newsDetailMiddle").offsetHeight,t=document.getElementsByClassName("newsContext").offsetHeight;console.log(t);var s=t+e,a=document.getElementsByClassName("wrapper");a[0].style.height=s+"px"},data:function(){return{swiperOption:{loop:!0,pagination:{el:".swiper-pagination",clickable:!0},zoom:{containerClass:"swiper-slide"},autoplay:{delay:1500,stopOnLastSlide:!1,disableOnInteraction:!0}},id:0,title:"这是一个大新闻",author:"cccc",date:"2021-01-16",imgUrls:[],context:"ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"}},computed:{currentData:function(){return Se()(this.date).format("YYYY年MM月DD日 HH:mm:ss")}},methods:{back:function(){this.$router.back(-1)},swiperright:function(){this.$router.back(-1)},myscroll:function(){var e=this;this.$nextTick((function(){var t=document.querySelector(".newsDetailMain");e.scroll=new qe["a"](t,{pullUpLoad:!0,click:!0,tap:!0}),console.log(e.scroll)}))}},updated:function(){this.scroll.refresh(),this.scroll.finishPullUp()}},Ze=Qe,et=(s("61ab"),Object(c["a"])(Ze,We,Ke,!1,null,"1364c71a",null)),tt=et.exports,st=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"helperbox"},[s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"searchbox"},[s("el-input",{attrs:{placeholder:"请输入内容","prefix-icon":"el-icon-search"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),s("span",{on:{click:e.search}},[e._v("搜索")])],1)]),s("helperbar",{class:e.show,attrs:{activeIndex:e.activeIndex}}),s("div",{staticClass:"content"},[s("router-view",{staticClass:"router",attrs:{input:e.input,searchTarget:e.searchTarget},on:{clearSearch:e.clearSearch}})],1),s("mytabbar",{staticClass:"mytabbar",attrs:{activeIndex:"2"}})],1)},at=[],nt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"helperbar"},[s("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal"}},[s("div",{staticClass:"itembox 1",on:{click:e.move1}},[s("el-menu-item",{staticClass:"tabItem",attrs:{index:"1"}},[e._v("悬赏平台")])],1),s("div",{staticClass:"itembox 2",on:{click:e.move2}},[s("el-menu-item",{staticClass:"tabItem",attrs:{index:"2"}},[e._v("学习资源")])],1)])],1)},rt=[],it={props:{activeIndex:{type:String,default:"1"}},methods:{move1:function(){this.$router.push({path:"/helper/rewardList"})},move2:function(){this.$router.push({path:"/helper/learningList"})}}},ot=it,ct=(s("bab6"),Object(c["a"])(ot,nt,rt,!1,null,"bee53dc0",null)),lt=ct.exports,ut={data:function(){return{input:"",searchTarget:"",activeIndex:"1",startx:0,starty:0,isShow:!0,show:"default"}},mounted:function(){console.log(this.$route.path),window.addEventListener("touchstart",this.handletouchs,!0),window.addEventListener("touchmove",this.handletouchm,!0),window.addEventListener("touchend",this.handletouche,!0),"/helper/learningList"===this.$route.path?this.activeIndex="2":this.activeIndex="1"},components:{helperbar:lt,mytabbar:fe},methods:{search:function(){"/helper/rewardList"===this.$route.path?(this.searchTarget="rewardList",console.log("searchrew:")):"/helper/learningList"===this.$route.path&&(this.searchTarget="learningList",console.log("searchlear:"))},clearSearch:function(){this.searchTarget="",this.input=""},getDirection:function(e,t,s,a){var n=s-e,r=a-t,i=0;if(Math.abs(n)<60)return i;var o=this.getAngle(n,r);return o>=135&&o<=180||o>=-180&&o<-135?i=1:o>=-45&&o<=45&&(i=2),i},getAngle:function(e,t){return 180*Math.atan2(t,e)/Math.PI},handletouchs:function(e){console.log(e),this.startx=e.touches[0].pageX,this.starty=e.touches[0].pageY,console.log("sy:",this.starty)},handletouchm:function(e){var t=e.touches[0].pageY;console.log("my",t);var s=t-this.starty;console.log("dir:",s),s>10?(this.isShow=!0,this.show="down",console.log("move+:",t-this.starty,"true")):s<-10&&(this.isShow=!1,this.show="up",console.log("move-:",t-this.starty,"flase"))},handletouche:function(e){var t,s;t=e.changedTouches[0].pageX,s=e.changedTouches[0].pageY;var a=this.getDirection(this.startx,this.starty,t,s);switch(a){case 0:break;case 1:"1"===this.activeIndex&&(this.$router.push({path:"/helper/learningList"}),this.activeIndex="2");break;case 2:"2"===this.activeIndex&&(this.$router.push({path:"/helper/rewardList"}),this.activeIndex="1");break;default:}}},beforeRouteUpdate:function(e,t,s){console.log("up"),this.input="",s()},destroyed:function(){console.log("leave"),window.removeEventListener("touchstart",this.handletouchs,!0),window.removeEventListener("touchmove",this.handletouchm,!0),window.removeEventListener("touchend",this.handletouche,!0)}},ht=ut,dt=(s("d77f"),Object(c["a"])(ht,st,at,!1,null,"0798f83e",null)),mt=dt.exports,pt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"rerwardwrapper"},[s("div",{staticClass:"rewardList"},e._l(e.rewardlist,(function(t,a){return s("reward",{key:t.commentid,attrs:{id:t.commentid,userId:t.userid,username:t.username,sign:t.signature,gender:t.gender,introduction:t.introduction,userimg:t.headportrait,fileaddress:t.images,contentText:t.rewardinfo,date:t.rewardtime,clicks:t.rewardhits},on:{deleteContent:function(t){return e.handleDelete(a)}}})})),1)])},gt=[],ft=(s("a434"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"rewardBox"},[s("div",{staticClass:"rewardHeader"},[s("img",{staticClass:"userImg",attrs:{src:e.userimg},on:{click:function(t){return t.target!==t.currentTarget?null:e.toPersonal(t)}}}),s("div",{staticClass:"userName",on:{click:function(t){return t.target!==t.currentTarget?null:e.toPersonal(t)}}},[e._v(e._s(e.username))]),e.isShow?s("i",{staticClass:"el-icon-close",on:{click:function(t){e.flag&&e.del()}}}):e._e()]),s("div",{staticClass:"rewardMain",on:{click:e.toDetail}},[s("div",{staticClass:"rewardText"},[e._v(e._s(e.contentText))]),s("div",{staticClass:"rewardImgBox"},[s("ul",e._l(e.fileaddress,(function(t,a){return s("li",{directives:[{name:"show",rawName:"v-show",value:a<3,expression:"index < 3"}],key:a},[s("img",{attrs:{src:e.fileaddress[a]}})])})),0)])]),s("div",{staticClass:"rewardFooter",on:{click:e.toDetail}},[s("div",{staticClass:"rewardDate"},[e._v(e._s(e.currentData))]),s("div",{staticClass:"rewardClicks"},[e._v("点击量："+e._s(e.clicks))])])])}),vt=[],wt={data:function(){return{flag:!0}},computed:{isShow:function(){return"/mypersonalPage/rewardList"===this.$route.path},currentData:function(){return Se()(this.date).format("YYYY年MM月DD日 HH:mm:ss")}},props:{fileaddress:{type:Array,default:""},contentText:{type:String,default:""},date:{type:String,default:""},id:{type:Number,default:0},userId:{type:String,default:0},username:{type:String,default:""},gender:{type:Number,default:""},userimg:{type:String,default:""},sign:{type:String,default:""},introduction:{type:String,default:""},clicks:{type:Number,default:0}},methods:{toPersonal:function(){this.$store.state.userId===this.userId?this.$router.push({name:"mypersonalPage"}):(sessionStorage.setItem("tempUserId",this.userId),sessionStorage.setItem("gender",this.gender),sessionStorage.setItem("tempUserName",this.username),sessionStorage.setItem("tempUserImg",this.userimg),sessionStorage.setItem("tempUserSign",this.sign),sessionStorage.setItem("tempUserIntroduction",this.introduction),this.$router.push({name:"personalPage"}))},toDetail:function(){this.$router.push({path:"/rewardDetail",query:{rewardid:this.id,hits:this.clicks}})},del:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.flag=!1,e.$confirm("是否删除此悬赏?","提示",{customClass:"confirmdelete",confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(d["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("/mypersonalPage/rewardList"!==e.$route.path){t.next=6;break}return e.$emit("deleteContent"),t.next=4,R(e.id);case 4:s=t.sent,console.log(s);case 6:e.$message.success("删除成功!"),e.flag=!0;case 8:case"end":return t.stop()}}),t)})))).catch((function(){e.$message.info("已取消删除"),e.flag=!0}));case 2:case"end":return t.stop()}}),t)})))()}}},xt=wt,bt=(s("840b"),Object(c["a"])(xt,ft,vt,!1,null,null,null)),yt=bt.exports,kt={data:function(){return{keyword:"",initState:!0,pageNum:1,totalNum:1,pageNum1:1,showLoading:!1,rewardlist:[]}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s={},"/mypersonalPage/rewardList"!==e.$route.path&&"/personalPage/rewardList"!==e.$route.path){t.next=7;break}return t.next=4,j(e.id,e.pageNum);case 4:s=t.sent,t.next=10;break;case 7:return t.next=9,S(e.pageNum);case 9:s=t.sent;case 10:console.log("init:",s),e.rewardlist=s.detail,e.totalNum=s.pageNumber,e.pageNum++,console.log("rew",e.rewardlist);case 15:case"end":return t.stop()}}),t)})))()},mounted:function(){this.loadData()},components:{reward:yt},props:{id:{type:String,default:""},input:{type:String,default:""},searchTarget:{type:String,default:""}},methods:{handleDelete:function(e){console.log("index:",e),console.log("shan..."),this.rewardlist.splice(e,1)},getData:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s,a,n,r,i,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,console.log("startget"),""!=e.keyword){t.next=18;break}if(s={},"/mypersonalPage/rewardList"!==e.$route.path&&"/personalPage/rewardList"!==e.$route.path){t.next=10;break}return t.next=7,j(e.id,e.pageNum);case 7:s=t.sent,t.next=13;break;case 10:return t.next=12,S(e.pageNum);case 12:s=t.sent;case 13:e.rewardlist=[].concat(Object(ne["a"])(e.rewardlist),Object(ne["a"])(s.detail)),console.log(s),console.log("chushihua"),t.next=59;break;case 18:if(!e.initState){t.next=32;break}return console.log("startgetinit"),t.next=22,L(e.keyword,e.pageNum);case 22:return a=t.sent,console.log(a),t.next=26,T(e.keyword,e.pageNum);case 26:n=t.sent,e.totalNum=a.pageNumber+n.pageNumber,e.pageNum1=a.pageNumber,e.initState=!1,console.log(a),console.log(n);case 32:if(console.log(e.pageNum,e.pageNum1),!(e.pageNum<=e.pageNum1)){t.next=41;break}return t.next=36,L(e.keyword,e.pageNum);case 36:r=t.sent,console.log(r),1===e.pageNum?e.rewardlist=r.detail:e.rewardlist=[].concat(Object(ne["a"])(e.rewardlist),Object(ne["a"])(r.detail)),t.next=47;break;case 41:if(!(e.totalNum>=e.pageNum&&e.pageNum>e.pageNum1)){t.next=47;break}return t.next=44,T(e.keyword,e.pageNum-e.pageNum1);case 44:i=t.sent,console.log(i),e.pageNum-e.pageNum1===e.pageNum?e.rewardlist=i.detail:e.rewardlist=[].concat(Object(ne["a"])(e.rewardlist),Object(ne["a"])(i.detail));case 47:if(!(e.pageNum<=e.pageNum1)){t.next=58;break}return t.next=50,L(e.keyword,e.pageNum);case 50:if(o=t.sent,!(o.detail.length<10&&1==e.pageNum)){t.next=58;break}return t.next=54,T(e.keyword,e.pageNum);case 54:c=t.sent,e.rewardlist=[].concat(Object(ne["a"])(e.rewardlist),Object(ne["a"])(c.detail)),e.pageNum++,console.log(e.pageNum);case 58:0===e.totalNum&&e.$message.warning("没有满足条件的内容");case 59:e.pageNum++,console.log(e.pageNum),t.next=65;break;case 63:t.prev=63,t.t0=t["catch"](0);case 65:case"end":return t.stop()}}),t,null,[[0,63]])})))()},loadData:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$nextTick((function(){var t=document.querySelector(".rerwardwrapper");e.scroll=new qe["a"](t,Object(ae["a"])({pullUpLoad:!0,click:!0,tap:!0},"pullUpLoad",{threshold:-30})),console.log(e.scroll),e.scroll.on("pullingUp",Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.pageNum>e.totalNum)){t.next=6;break}return e.$message.info("到底啦别拉了"),e.showLoading=!1,t.abrupt("return");case 6:return e.showLoading=!0,console.log("获取中"),t.next=10,e.getData();case 10:console.log("获取完");case 11:e.scroll.finishPullUp();case 12:case"end":return t.stop()}}),t)}))))}));case 1:case"end":return t.stop()}}),t)})))()}},watch:{searchTarget:function(){"rewardList"===this.searchTarget&&(this.keyword=this.input,this.rewardlist=[],this.pageNum=1,this.pageNum=1,this.initState=!0,this.getData(),this.$emit("clearSearch"))}},updated:function(){this.scroll.refresh(),this.scroll.finishPullUp()}},Ct=kt,Nt=(s("226a"),Object(c["a"])(Ct,pt,gt,!1,null,null,null)),$t=Nt.exports,_t=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"learningwrapper"},[s("div",{staticClass:"learningList"},e._l(e.learninglist,(function(t,a){return s("learning",{key:t.studyplatid,attrs:{id:t.studyplatid,username:t.username,userId:t.userid,userimg:t.headportrait,gender:t.gender,sign:t.signature,introduction:t.introduction,fileaddress:t.images,contentText:t.studyinfo,date:t.studytime,clicks:t.studyhits},on:{deleteContent:function(t){return e.handleDelete(a)}}})})),1)])},It=[],St=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"learnBox"},[s("div",{staticClass:"learnHeader"},[s("img",{staticClass:"userImg",attrs:{src:e.userimg},on:{click:function(t){return t.target!==t.currentTarget?null:e.toPersonal(t)}}}),s("div",{staticClass:"userName",on:{click:function(t){return t.target!==t.currentTarget?null:e.toPersonal(t)}}},[e._v(e._s(e.username))]),e.isShow?s("i",{staticClass:"el-icon-close",on:{click:function(t){e.flag&&e.del()}}}):e._e()]),s("div",{staticClass:"learnMain",on:{click:e.toDetail}},[s("div",{staticClass:"learnText"},[e._v(e._s(e.contentText))]),s("div",{staticClass:"learnImgBox"},[s("ul",e._l(e.fileaddress,(function(t,a){return s("li",{directives:[{name:"show",rawName:"v-show",value:a<3,expression:"index < 3"}],key:a},[s("img",{attrs:{src:e.fileaddress[a]}})])})),0)])]),s("div",{staticClass:"learnFooter",on:{click:e.toDetail}},[s("div",{staticClass:"learnDate"},[e._v(e._s(e.currentData))]),s("div",{staticClass:"learnClicks"},[e._v("评论："+e._s(e.clicks))])])])},Lt=[],Tt={data:function(){return{flag:!0}},computed:{isShow:function(){return"/mypersonalPage/learningList"===this.$route.path},currentData:function(){return Se()(this.date).format("YYYY年MM月DD日 HH:mm:ss")}},props:{fileaddress:{type:Array,default:""},contentText:{type:String,default:""},date:{type:String,default:""},id:{type:Number,default:0},userId:{type:String,default:0},username:{type:String,default:""},gender:{type:Number,default:""},userimg:{type:String,default:""},sign:{type:String,default:""},introduction:{type:String,default:""},clicks:{type:Number,default:0}},methods:{toDetail:function(){console.log("studyid:",this.id),this.$router.push({path:"/learningDetail",query:{learningid:this.id,hits:this.clicks}})},toPersonal:function(){this.$store.state.userId===this.userId?this.$router.push({name:"mypersonalPage"}):(sessionStorage.setItem("tempUserId",this.userId),sessionStorage.setItem("gender",this.gender),sessionStorage.setItem("tempUserName",this.username),sessionStorage.setItem("tempUserImg",this.userimg),sessionStorage.setItem("tempUserSign",this.sign),sessionStorage.setItem("tempUserIntroduction",this.introduction),this.$router.push({name:"personalPage"}))},del:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.flag=!1,e.$confirm("是否删除此资源?","提示",{customClass:"confirmdelete",confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(d["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("/mypersonalPage/learningList"!==e.$route.path){t.next=6;break}return e.$emit("deleteContent"),t.next=4,H(e.id);case 4:s=t.sent,console.log(s);case 6:e.$message.success("删除成功!"),e.flag=!0;case 8:case"end":return t.stop()}}),t)})))).catch((function(){e.$message.info("已取消删除"),e.flag=!0}));case 2:case"end":return t.stop()}}),t)})))()}}},jt=Tt,Pt=(s("ea40"),Object(c["a"])(jt,St,Lt,!1,null,null,null)),Ot=Pt.exports,Rt={data:function(){return{keyword:"",initState:!0,pageNum:1,totalNum:1,pageNum1:1,showLoading:!1,learninglist:[]}},components:{learning:Ot},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s={},"/mypersonalPage/learningList"!==e.$route.path&&"/personalPage/learningList"!==e.$route.path){t.next=7;break}return t.next=4,M(e.id,e.pageNum);case 4:s=t.sent,t.next=10;break;case 7:return t.next=9,D(e.pageNum);case 9:s=t.sent;case 10:console.log("studyList:",s),e.learninglist=s.detail,e.totalNum=s.pageNumber,e.pageNum++;case 14:case"end":return t.stop()}}),t)})))()},mounted:function(){this.loadData()},props:{id:{type:String,default:""},input:{type:String,default:""},searchTarget:{type:String,default:""}},methods:{handleDelete:function(e){this.learninglist.splice(e,1)},getData:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s,a,n,r,i,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,console.log("startget"),""!=e.keyword){t.next=18;break}if(s={},"/mypersonalPage/learningList"!==e.$route.path&&"/personalPage/learningList"!==e.$route.path){t.next=10;break}return t.next=7,M(e.id,e.pageNum);case 7:s=t.sent,t.next=13;break;case 10:return t.next=12,D(e.pageNum);case 12:s=t.sent;case 13:e.learninglist=[].concat(Object(ne["a"])(e.learninglist),Object(ne["a"])(s.detail)),console.log(s),console.log("chushihua"),t.next=59;break;case 18:if(!e.initState){t.next=32;break}return console.log("startgetinit"),t.next=22,U(e.keyword,e.pageNum);case 22:return a=t.sent,console.log(a),t.next=26,E(e.keyword,e.pageNum);case 26:n=t.sent,e.totalNum=a.pageNumber+n.pageNumber,e.pageNum1=a.pageNumber,e.initState=!1,console.log(a),console.log(n);case 32:if(console.log(e.pageNum,e.pageNum1),!(e.pageNum<=e.pageNum1)){t.next=41;break}return t.next=36,U(e.keyword,e.pageNum);case 36:r=t.sent,console.log(r),1===e.pageNum?e.learninglist=r.detail:e.learninglist=[].concat(Object(ne["a"])(e.learninglist),Object(ne["a"])(r.detail)),t.next=47;break;case 41:if(!(e.totalNum>=e.pageNum&&e.pageNum>e.pageNum1)){t.next=47;break}return t.next=44,E(e.keyword,e.pageNum-e.pageNum1);case 44:i=t.sent,console.log(i),e.pageNum-e.pageNum1===e.pageNum?e.learninglist=i.detail:e.learninglist=[].concat(Object(ne["a"])(e.learninglist),Object(ne["a"])(i.detail));case 47:if(!(e.pageNum<=e.pageNum1)){t.next=58;break}return t.next=50,U(e.keyword,e.pageNum);case 50:if(o=t.sent,!(o.detail.length<10&&1==e.pageNum)){t.next=58;break}return t.next=54,E(e.keyword,e.pageNum);case 54:c=t.sent,e.learninglist=[].concat(Object(ne["a"])(e.learninglist),Object(ne["a"])(c.detail)),e.pageNum++,console.log(e.pageNum);case 58:0===e.totalNum&&e.$message.warning("没有满足条件的内容");case 59:e.pageNum++,console.log(e.pageNum),t.next=65;break;case 63:t.prev=63,t.t0=t["catch"](0);case 65:case"end":return t.stop()}}),t,null,[[0,63]])})))()},loadData:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$nextTick((function(){var t=document.querySelector(".learningwrapper");e.scroll=new qe["a"](t,Object(ae["a"])({pullUpLoad:!0,click:!0,tap:!0},"pullUpLoad",{threshold:-30})),console.log(e.scroll),e.scroll.on("pullingUp",Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.pageNum>e.totalNum)){t.next=6;break}return e.$message.info("到底啦别拉了"),e.showLoading=!1,t.abrupt("return");case 6:return e.showLoading=!0,console.log("获取中"),t.next=10,e.getData();case 10:console.log("获取完");case 11:e.scroll.finishPullUp();case 12:case"end":return t.stop()}}),t)}))))}));case 1:case"end":return t.stop()}}),t)})))()}},watch:{searchTarget:function(){"learningList"===this.searchTarget&&(this.keyword=this.input,this.learninglist=[],this.pageNum=1,this.pageNum=1,this.initState=!0,this.getData(),this.$emit("clearSearch"))}},updated:function(){this.scroll.refresh(),this.scroll.finishPullUp()}},Dt=Rt,Ut=(s("4598"),Object(c["a"])(Dt,_t,It,!1,null,null,null)),Et=Ut.exports,Mt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"rewardDetail"},[e._m(0),s("i",{staticClass:"el-icon-back",on:{click:e.back}}),s("div",{staticClass:"rewardDetailTitle",on:{click:e.toPersonalPage}},[s("img",{staticClass:"rewardDetailUserImg",attrs:{src:e.userimg}}),s("div",{staticClass:"nameBox"},[s("div",{staticClass:"rewardDetailName"},[e._v(e._s(e.username))]),s("div",{staticClass:"rewardDetailDate"},[e._v(e._s(e.currentData))])])]),s("div",{staticClass:"rewardDetailMain"},[s("swiper",{staticClass:"czp",attrs:{options:e.swiperOption}},[e._l(e.fileaddress,(function(e){return s("swiper-slide",{key:e},[s("img",{attrs:{src:e,preview:"","preview-text":"悬赏"}})])})),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2),s("v-touch",{ref:"wrapper",staticClass:"wrapper",on:{swiperight:e.swiperright}},[s("div",{staticClass:"rewardDetailContext"},[e._v(" "+e._s(e.contentText)+" ")])])],1),s("div",{staticClass:"rewardDetailFooter"},[e._m(1),s("el-button",[e._v("接")])],1)])},qt=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"rewardDetailt"},[s("span",[e._v(" 悬赏详情")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"rewardDetailmessage"},[a("img",{attrs:{src:s("3179")}}),a("span",[e._v("留言")])])}],Bt={components:{swiper:Ee["swiper"],swiperSlide:Ee["swiperSlide"]},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("id:",e.$route.query.rewardid),console.log("hits",e.$route.query.hits),t.next=4,P(e.$route.query.rewardid,e.$route.query.hits);case 4:s=t.sent,console.log("init:",s),e.fileaddress=s.images,e.username=s.username,e.userimg=s.headportrait,e.contentText=s.rewardinfo,e.date=s.rewardtime,e.id=s.commentid,e.userid=s.userid,e.clicks=s.rewardhits;case 14:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=document.querySelector(".rewardDetailMain").offsetHeight,t=document.querySelector(".swiper-container").offsetHeight,s=document.querySelector(".rewardDetailFooter").offsetHeight,a=e-t-s-20,n=document.getElementsByClassName("wrapper");console.log(n),console.log(a),n[0].style.height=a+"px"},data:function(){return{swiperOption:{loop:!0,pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:1500,stopOnLastSlide:!1,disableOnInteraction:!0}},fileaddress:[],contentText:"",date:"2021-01-25",id:0,username:"aaa",userid:"",userimg:"http://www.shuoshuodaitupian.com/images/avatar_selection/avatar0011.jpg",clicks:0}},computed:{currentData:function(){return Se()(this.date).format("YYYY年MM月DD日 HH:mm:ss")}},methods:{toPersonalPage:function(){this.$store.state.userId===this.userid?this.$router.push({name:"mypersonalPage"}):this.$router.push({name:"personalPage"})},back:function(){this.$router.back(-1)},swiperright:function(){console.log("back"),this.$router.back(-1)}}},Ht=Bt,Yt=(s("777c"),Object(c["a"])(Ht,Mt,qt,!1,null,"57b273f0",null)),Gt=Yt.exports,zt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bswrapper"},[s("div",{staticClass:"content"},[s("div",{staticClass:"learnDetail"},[s("div",{staticClass:"learnDetailt"},[s("i",{staticClass:"el-icon-back",on:{click:e.back}}),s("span",[e._v(" 学习平台")])]),s("div",{staticClass:"learnDetailTitle",on:{click:e.toPersonalPage}},[s("img",{staticClass:"learnDetailUserImg",attrs:{src:e.userimg}}),s("div",{staticClass:"nameBox"},[s("div",{staticClass:"learnDetailName"},[e._v(e._s(e.username))]),s("div",{staticClass:"learnDetailDate"},[e._v(e._s(e.currentData))])])]),s("div",{staticClass:"learnDetailMain"},[s("swiper",{staticClass:"czp",attrs:{options:e.swiperOption}},[e._l(e.fileaddress,(function(e){return s("swiper-slide",{key:e},[s("img",{attrs:{src:e,preview:"","preview-text":"学习资源"}})])})),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2),s("v-touch",{ref:"wrapper",staticClass:"wrapper",on:{swiperight:e.swiperright}},[s("div",{staticClass:"learnDetailContext"},[e._v(" "+e._s(e.contentText)+" ")]),s("div",{staticClass:"videoList"},[s("h2",{staticClass:"videoTitle"},[e._v("课程视频")]),s("ol",e._l(e.videoList,(function(t,a){return s("li",{key:a,on:{click:function(s){return e.toVideoPage(t.id,a)}}},[s("div",{staticClass:"itembox"},[s("span",[e._v(e._s(e.videoName[a]))])])])})),0)]),s("div",{staticClass:"fileList"},[s("h2",{staticClass:"fileTitle"},[e._v("课程资源")]),s("ol",e._l(e.fileList,(function(t,a){return s("li",{key:a,on:{click:e.dowmloadFile}},[s("div",{staticClass:"itembox"},[s("span",[e._v(e._s(e.fileName[a]))]),s("a",{attrs:{href:e.fileList[a]}},[s("i",{staticClass:"el-icon-download"})])])])})),0)]),s("div",{staticClass:"commentBox"},[s("div",{staticClass:"commentTitle"},[s("span",[e._v("评论")])]),s("div",{staticClass:"commentMain"},[s("commentList",{attrs:{comments:e.comments}})],1)])])],1)])]),s("div",{staticClass:"newComment"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.commentText,expression:"commentText"}],attrs:{id:"newComment",cols:"30",rows:"1",placeholder:"说些啥吧"},domProps:{value:e.commentText},on:{input:function(t){t.target.composing||(e.commentText=t.target.value)}}}),s("el-button",{staticClass:"inputButton",attrs:{type:"info",round:""},on:{click:e.sendComment}},[e._v("发表")])],1)])},Ft=[],Vt=(s("3ca3"),s("ddb0"),s("2b3d"),s("fda2"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"commentList"},e._l(e.comments,(function(t,a){return s("comment",{key:t.replyid,attrs:{id:t.replyid,userId:t.userid,username:t.username,gender:t.gender,userimg:t.headportrait,sign:t.signature,introduction:t.introduction,date:t.replytime,commentText:t.replyinfo},on:{deleteContent:function(t){return e.handleDelete(a)}}})})),1)}),At=[],Jt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"comment"},[s("div",{staticClass:"commentHeader"},[s("img",{attrs:{src:e.userimg},on:{click:function(t){return t.target!==t.currentTarget?null:e.toPersonal(t)}}}),s("span",{on:{click:function(t){return t.target!==t.currentTarget?null:e.toPersonal(t)}}},[e._v(e._s(e.username))]),s("i",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"el-icon-close",on:{click:e.del}})]),s("div",{staticClass:"commentMain"},[s("span",[e._v(e._s(e.commentText))]),s("div",{staticClass:"date"},[e._v(e._s(e.currentData))])])])},Xt=[],Wt={computed:{currentData:function(){return Se()(this.date).format("YYYY年MM月DD日 HH:mm:ss")},isShow:function(){return this.userId===this.$store.state.userId}},props:{userId:{type:String,default:1},id:{type:Number,default:1},username:{type:String,default:"ccc"},gender:{type:Number,default:1},userimg:{type:String,default:"http://www.shuoshuodaitupian.com/images/avatar_selection/avatar0011.jpg"},sign:{type:String,default:""},introduction:{type:String,default:""},commentText:{type:String,default:"6666666666666"},date:{type:String,default:""}},methods:{del:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$confirm("是否删除此评论?","提示",{customClass:"confirmdelete",confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(d["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("deleteContent"),t.next=3,z(e.id);case 3:s=t.sent,console.log(s),e.$message.success("删除成功!");case 6:case"end":return t.stop()}}),t)})))).catch((function(){e.$message.info("已取消删除")}));case 1:case"end":return t.stop()}}),t)})))()},toPersonal:function(){this.$store.state.userId===this.userId?this.$router.push({name:"mypersonalPage"}):(sessionStorage.setItem("tempUserId",this.userId),sessionStorage.setItem("gender",this.gender),sessionStorage.setItem("tempUserName",this.username),sessionStorage.setItem("tempUserImg",this.userimg),sessionStorage.setItem("tempUserSign",this.sign),sessionStorage.setItem("tempUserIntroduction",this.introduction),this.$router.push({name:"personalPage"}))}}},Kt=Wt,Qt=(s("43e1"),Object(c["a"])(Kt,Jt,Xt,!1,null,null,null)),Zt=Qt.exports,es={components:{comment:Zt},props:{comments:{type:Array,default:[]}},methods:{handleDelete:function(e){this.comments.splice(e,1)}}},ts=es,ss=Object(c["a"])(ts,Vt,At,!1,null,null,null),as=ss.exports,ns={created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("id:",e.$route.query.learningid),console.log("hits",e.$route.query.hits),t.next=4,q(e.$route.query.learningid,e.$route.query.hits);case 4:return s=t.sent,console.log("init:",s),e.fileaddress=s.images,e.username=s.username,e.userimg=s.headportrait,e.id=s.studyplatid,e.userid=s.userid,e.clicks=s.studyhits,e.videoList=s.videos,e.fileList=s.files,e.videoName=s.videoname,e.fileName=s.filename,e.videoPath=s.videopath,e.contentText=s.studyinfo,e.date=s.studytime,t.next=21,Y(e.id,e.pageNum);case 21:a=t.sent,console.log(a),e.comments=a.detail,e.totalNum=a.pageNumber,e.pageNum=2;case 26:case"end":return t.stop()}}),t)})))()},components:{swiper:Ee["swiper"],swiperSlide:Ee["swiperSlide"],commentList:as},mounted:function(){this.loadData()},data:function(){return{swiperOption:{loop:!0,pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:1500,stopOnLastSlide:!1,disableOnInteraction:!0}},videoList:[],fileList:[],videoName:[],fileName:[],videoPath:"",end:"? filename=",title:"test",fileaddress:[],contentText:"cccccccccccccccccccccccccccccccccc",date:"2021-01-25",id:0,username:"aaa",userid:"",userimg:"http://www.shuoshuodaitupian.com/images/avatar_selection/avatar0011.jpg",clicks:0,comments:[],commentText:"",initState:!0,pageNum:1,totalNum:1,showLoading:!1}},computed:{currentData:function(){return Se()(this.date).format("YYYY年MM月DD日 HH:mm:ss")}},methods:{toPersonalPage:function(){this.$store.state.userId===this.userid?this.$router.push({name:"mypersonalPage"}):this.$router.push({name:"personalPage"})},back:function(){this.$router.back(-1)},swiperright:function(){this.$router.back(-1)},getData:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log("startget"),s={},t.next=5,Y(e.id,e.pageNum);case 5:s=t.sent,e.comments=[].concat(Object(ne["a"])(e.comments),Object(ne["a"])(s.detail)),console.log(s),console.log("chushihua"),e.pageNum++,console.log(e.pageNum),t.next=15;break;case 13:t.prev=13,t.t0=t["catch"](0);case 15:case"end":return t.stop()}}),t,null,[[0,13]])})))()},loadData:function(){var e=this;this.$nextTick((function(){var t=document.querySelector(".bswrapper");e.scroll=new qe["a"](t,Object(ae["a"])({pullUpLoad:!0,click:!0,tap:!0},"pullUpLoad",{threshold:-30})),console.log(e.scroll),e.scroll.on("pullingUp",Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.pageNum>e.totalNum)){t.next=6;break}return e.$message.info("到底啦别拉了"),e.showLoading=!1,t.abrupt("return");case 6:return e.showLoading=!0,console.log("获取中"),t.next=10,e.getData();case 10:console.log("获取完");case 11:e.scroll.finishPullUp();case 12:case"end":return t.stop()}}),t)}))))}))},toVideoPage:function(e,t){this.$router.push({name:"videoPlayerPage",query:{id:e,index:t,title:this.title,videoName:this.videoName,videoList:JSON.stringify(this.videoList)}}),console.log(JSON.stringify(this.videoList))},dowmloadFile:function(){},download:function(){console.log("下载")},downloadVideo:function(e,t){var s=e,a='"'+t+'"',n=new XMLHttpRequest;n.open("GET",s,!0),n.responseType="blob",n.onload=function(e){var t=window.URL.createObjectURL(n.response),s=document.createElement("a");s.href=t,s.download=a,s.click()},n.send()},sendComment:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,G(e.$store.state.userId,e.$store.state.userName,e.commentText,e.id,e.$store.state.userImage);case 2:return s=t.sent,console.log(s),e.commentText="",e.pageNum=1,t.next=8,Y(e.id,e.pageNum);case 8:a=t.sent,console.log(a),e.comments=a.detail,e.totalNum=a.pageNumber,e.pageNum++;case 13:case"end":return t.stop()}}),t)})))()}},updated:function(){this.scroll.refresh(),this.scroll.finishPullUp()}},rs=ns,is=(s("997f"),Object(c["a"])(rs,zt,Ft,!1,null,"0b68cf25",null)),os=is.exports,cs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"videoBox"},[s("div",{staticClass:"video"},[s("i",{staticClass:"el-icon-back",on:{click:e.back}}),s("video-player",{ref:"videoPlayer",staticClass:"video-player",attrs:{playsinline:!0,options:e.playerOptions}})],1),s("div",{staticClass:"videoList"},[s("span",{staticClass:"title"},[e._v(e._s(e.$route.query.title))]),s("ol",e._l(e.videoList,(function(t,a){return s("li",{key:t.id,on:{click:function(t){return e.toVideoPage(a)}}},[s("div",{staticClass:"itembox"},[s("span",[e._v(e._s(e.videoName[a]))]),s("i",{staticClass:"el-icon-download",on:{click:e.download}})])])})),0)])])},ls=[],us={mounted:function(){console.log(this.videoList);var e=this.$refs.videoPlayer.player;e.src(this.videoList[this.$route.query.index])},data:function(){return{videoName:this.$route.query.videoName,videoList:JSON.parse(this.$route.query.videoList),playerOptions:{height:400,playbackRates:[.7,1,1.5,2],autoplay:!1,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"video/mp4",src:""}],notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}}}},methods:{back:function(){this.$router.back(-1)},toVideoPage:function(e){var t=this.$refs.videoPlayer.player;t.src(this.videoList[e])},download:function(){}}},hs=us,ds=(s("e6c8"),Object(c["a"])(hs,cs,ls,!1,null,"5fca2f8a",null)),ms=ds.exports,ps=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"chatbox"},[e._m(0),s("div",{staticClass:"chatwrapper"},[s("chatList")],1),s("my-tabbar",{staticClass:"tabbar",attrs:{activeIndex:"3"}})],1)},gs=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"title"},[s("span",[e._v("消息")])])}],fs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"chatListBox"},e._l(e.chatInformation,(function(e){return s("chatComponent",{key:e.id,attrs:{id:e.id,username:e.username,userimg:e.userimg,contentText:e.contentText,date:e.date,isRead:e.isRead}})})),1)},vs=[],ws=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"chatBox",on:{click:e.toDetail}},[s("div",{staticClass:"left"},[s("img",{attrs:{src:e.userimg,alt:""}})]),s("div",{staticClass:"center"},[s("div",{staticClass:"name"},[e._v(e._s(e.username))]),s("div",{staticClass:"context"},[e._v(e._s(e.contentText))])]),s("div",{staticClass:"right"},[s("div",{staticClass:"time"},[e._v(" "+e._s(e.date)+" ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.isRead,expression:"!isRead"}],staticClass:"icon"},[s("i",{staticClass:"el-icon-warning"})])])])},xs=[],bs={props:{contentText:{type:String,default:""},date:{type:String,default:""},id:{type:Number,default:0},username:{type:String,default:""},userimg:{type:String,default:""},isRead:{type:Boolean,default:!0}},methods:{toDetail:function(){this.$router.push({path:"/chatDetail",query:{username:this.username}})}}},ys=bs,ks=(s("1d5f"),Object(c["a"])(ys,ws,xs,!1,null,"55136800",null)),Cs=ks.exports,Ns={components:{chatComponent:Cs},props:{chatInformation:{type:Array,default:[{id:1,username:"quan",userimg:"http://www.shuoshuodaitupian.com/images/avatar_selection/avatar0011.jpg",contentText:"hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh",date:"2021-1-11",isRead:!1},{id:2,username:"ccc",userimg:"http://www.shuoshuodaitupian.com/images/avatar_selection/avatar0011.jpg",contentText:"2333333333",date:"2021-1-16",isRead:!0},{id:3,username:"quan",userimg:"http://www.shuoshuodaitupian.com/images/avatar_selection/avatar0011.jpg",contentText:"2333333333",date:"2021-1-16",isRead:!1},{id:4,username:"quan",userimg:"http://www.shuoshuodaitupian.com/images/avatar_selection/avatar0011.jpg",contentText:"hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh",date:"2021-1-11",isRead:!1},{id:5,username:"ccc",userimg:"http://www.shuoshuodaitupian.com/images/avatar_selection/avatar0011.jpg",contentText:"2333333333",date:"2021-1-16",isRead:!0},{id:6,username:"quan",userimg:"http://www.shuoshuodaitupian.com/images/avatar_selection/avatar0011.jpg",contentText:"2333333333",date:"2021-1-16",isRead:!1},{id:7,username:"quan",userimg:"http://www.shuoshuodaitupian.com/images/avatar_selection/avatar0011.jpg",contentText:"hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh",date:"2021-1-11",isRead:!1},{id:8,username:"ccc",userimg:"http://www.shuoshuodaitupian.com/images/avatar_selection/avatar0011.jpg",contentText:"2333333333",date:"2021-1-16",isRead:!0},{id:9,username:"quan",userimg:"http://www.shuoshuodaitupian.com/images/avatar_selection/avatar0011.jpg",contentText:"2333333333",date:"2021-1-16",isRead:!1},{id:10,username:"quan",userimg:"http://www.shuoshuodaitupian.com/images/avatar_selection/avatar0011.jpg",contentText:"hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh",date:"2021-1-11",isRead:!1},{id:11,username:"ccc",userimg:"http://www.shuoshuodaitupian.com/images/avatar_selection/avatar0011.jpg",contentText:"2333333333",date:"2021-1-16",isRead:!0},{id:12,username:"quan",userimg:"http://www.shuoshuodaitupian.com/images/avatar_selection/avatar0011.jpg",contentText:"2333333333",date:"2021-1-16",isRead:!1},{id:13,username:"quan",userimg:"http://www.shuoshuodaitupian.com/images/avatar_selection/avatar0011.jpg",contentText:"hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh",date:"2021-1-11",isRead:!1}]}}},$s=Ns,_s=Object(c["a"])($s,fs,vs,!1,null,null,null),Is=_s.exports,Ss={components:{"my-tabbar":fe,chatList:Is},mounted:function(){this.loadData()},methods:{loadData:function(){var e=this;this.$nextTick((function(){var t=document.querySelector(".chatwrapper");e.scroll=new qe["a"](t,Object(ae["a"])({pullUpLoad:!0,click:!0,tap:!0},"pullUpLoad",{threshold:-30})),console.log(e.scroll),e.scroll.on("pullingUp",(function(){console.log("jz"),e.scroll.finishPullUp()}))}))}}},Ls=Ss,Ts=(s("a553"),Object(c["a"])(Ls,ps,gs,!1,null,"ee327f14",null)),js=Ts.exports,Ps=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"chatDetailBox"},[s("div",{staticClass:"header"},[s("i",{staticClass:"el-icon-back",on:{click:e.back}}),s("span",[e._v(e._s(e.objectname))])]),s("div",{staticClass:"chatwrapper"},[s("div",{staticClass:"main"},e._l(e.dialog,(function(t){return s("div",{key:t.id,staticClass:"content",class:t.person},["user"===t.person?s("div",{staticClass:"rightBox"},[s("span",{staticClass:"center"},[e._v(e._s(t.time))]),s("div",{staticClass:"right"},[s("div",{staticClass:"context contextRight"},[e._v(e._s(t.context))]),s("div",{staticClass:"image"},[s("img",{attrs:{src:e.userImg}})])])]):e._e(),"object"===t.person?s("div",{staticClass:"leftBox"},[s("span",{staticClass:"center"},[e._v(e._s(t.time))]),s("div",{staticClass:"left"},[s("div",{staticClass:"image"},[s("img",{attrs:{src:e.objectImg}})]),s("div",{staticClass:"context contextLeft"},[e._v(e._s(t.context))])])]):e._e()])})),0)]),s("div",{staticClass:"footer"},[s("el-input",{model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),s("el-button",{staticClass:"inputButton",attrs:{type:"info",round:""},on:{click:e.send}},[e._v("发送")])],1)])},Os=[],Rs={data:function(){return{username:this.$store.state.userName,objectname:"quan",userImg:this.$store.state.userImage,objectImg:this.$store.state.userImage,input:"",message:{id:0,person:"user",context:"",time:""},dialog:[{id:1,person:"user",context:"hhhhhhhh",time:"2021-2-16 10:11"},{id:2,person:"object",context:"66666666",time:"2021-2-16 11:10"},{id:3,person:"user",context:"eeeeeehhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh",time:"2021-2-16 11:11"},{id:4,person:"object",context:"66666666666",time:"2021-2-16 11:19"},{id:5,person:"object",context:"66666666",time:"2021-2-16 11:20"},{id:6,person:"user",context:"eeeeeehhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh",time:"2021-2-16 11:11"},{id:7,person:"object",context:"66666666666",time:"2021-2-16 11:19"},{id:8,person:"object",context:"66666666",time:"2021-2-16 11:20"},{id:9,person:"user",context:"eeeeeehhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh",time:"2021-2-16 11:11"},{id:10,person:"object",context:"66666666666",time:"2021-2-16 11:19"},{id:11,person:"object",context:"66666666",time:"2021-2-16 11:20"},{id:12,person:"object",context:"66666666",time:"2021-2-16 11:20"}]}},methods:{back:function(){this.$router.back(-1)},loadData:function(){var e=this;this.$nextTick((function(){var t=document.querySelector(".chatwrapper");e.scroll=new qe["a"](t,{click:!0,tap:!0,pullDownRefresh:{threshold:30}}),e.scroll.on("pullingDown",(function(){console.log("jz"),e.scroll.finishPullDown()}))}))},send:function(){var e=new Date;this.message.time=e.toLocaleString(),console.log(this.message.time),this.message.id=this.dialog.length+1,this.message.context=this.input,this.dialog.push(this.message),console.log(this.dialog),console.log(this.dialog[11].time),this.input=""}},mounted:function(){this.loadData();var e=document.querySelector(".main").scrollHeight;console.log(e),window.scrollTo(0,e)},updated:function(){var e=document.querySelector(".main").scrollHeight;console.log(e),window.scrollTo(0,e)}},Ds=Rs,Us=(s("056b"),Object(c["a"])(Ds,Ps,Os,!1,null,"81ef8b7e",null)),Es=Us.exports,Ms=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"personalMain"}},[s("div",{staticClass:"personaltop"},[s("i",{staticClass:"el-icon-back",on:{click:e.back}}),s("div",{staticClass:"personalMiddle"},[s("div",{staticClass:"personalIntroduction"},[s("div",{staticClass:"personalImg"},[s("img",{staticClass:"personalImg",attrs:{src:e.userImage}})]),s("div",{staticClass:"personalText"},[s("span",{staticStyle:{"font-size":"1.75rem"}},[e._v(e._s(e.username)+e._s(e.gender))]),s("span",{staticClass:"personalWords"},[e._v("个性签名："+e._s(e.sign))]),s("span",{staticClass:"personalWords"},[e._v("个人简介："+e._s(e.introduction))])])]),s("div",{staticClass:"personalContents"},[e.showLoading?s("el-button",{staticClass:"mainMore",attrs:{loading:!0}}):e._e()],1)]),s("div",{staticClass:"personalpageBar"},[s("personalpageBar",{attrs:{activeIndex:e.activeIndex}})],1)]),s("div",{staticClass:"personalwrapper"},[s("div",{staticClass:"personalpageMain"},[s("v-touch",{ref:"wrapper",staticClass:"wrapper",on:{swiperight:e.swiperright,swipeleft:e.swiperleft}},[s("div",{staticClass:"list"},[s("router-view",{staticClass:"router",attrs:{id:e.userid}})],1)])],1)])])},qs=[],Bs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"personalpageBar"},[s("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal"}},[s("div",{staticClass:"itembox",on:{click:e.move1}},[s("el-menu-item",{staticClass:"tabItem",attrs:{index:"1"}},[e._v("悬赏平台")])],1),s("div",{staticClass:"itembox",on:{click:e.move2}},[s("el-menu-item",{staticClass:"tabItem",attrs:{index:"2"}},[e._v("学习资源")])],1)])],1)},Hs=[],Ys={props:{activeIndex:{type:String,default:"1"}},methods:{move1:function(){"/personalPage/learningList"===this.$route.path?this.$router.push({path:"/personalPage/rewardList"}):"/mypersonalPage/learningList"===this.$route.path&&this.$router.push({path:"/mypersonalPage/rewardList"})},move2:function(){"/personalPage/rewardList"===this.$route.path?this.$router.push({path:"/personalPage/learningList"}):"/mypersonalPage/rewardList"===this.$route.path&&this.$router.push({path:"/mypersonalPage/learningList"})}}},Gs=Ys,zs=(s("343c"),Object(c["a"])(Gs,Bs,Hs,!1,null,"576ac3ee",null)),Fs=zs.exports,Vs={components:{personalpageBar:Fs,swiper:Ee["swiper"],swiperSlide:Ee["swiperSlide"]},data:function(){return{datas:[],scroll:!0,pageNum:1,totalNum:1,showLoading:!1,userid:sessionStorage.getItem("tempUserId"),username:sessionStorage.getItem("tempUserName"),userImage:sessionStorage.getItem("tempUserImg"),sign:sessionStorage.getItem("tempUserSign"),introduction:sessionStorage.getItem("tempUserIntroduction"),sex:sessionStorage.getItem("gender"),activeIndex:"1"}},mounted:function(){this.loadData();var e=document.querySelector(".personalMiddle").offsetHeight,t=document.querySelector(".personalpageBar").offsetHeight,s=document.querySelector(".personaltop").offsetHeight,a=document.querySelector(".personalwrapper").offsetHeight;a=a+s-e-t;var n=document.getElementsByClassName("personalwrapper");n[0].style.height=a+"px","/personalPage/learningList"===this.$route.path?this.activeIndex="2":this.activeIndex="1"},updated:function(){"/personalPage/learningList"===this.$route.path?this.activeIndex="2":this.activeIndex="1"},methods:{personalChange:function(){this.$router.push("/profile")},back:function(){this.$router.push("/helper")},swiperright:function(){console.log("r"),"2"===this.activeIndex&&(this.$router.push({path:"/personalPage/rewardList"}),this.activeIndex="1",console.log("r2"))},swiperleft:function(){console.log("l"),console.log(this.activeIndex),"1"===this.activeIndex&&(this.$router.push({path:"/personalPage/learningList"}),this.activeIndex="2",console.log("l2"))},loadData:function(){var e=this;this.$nextTick((function(){var t=document.querySelector(".personalwrapper");e.scroll=new qe["a"](t,Object(ae["a"])({pullUpLoad:!0,scrollX:!0,click:!0,tap:!0},"pullUpLoad",{threshold:-30})),e.scroll.on("pullingUp",(function(){console.log("jz"),e.scroll.finishPullUp()}))}))}},computed:{showChange:function(){return this.username===this.$store.state.userName},gender:function(){return"1"===this.sex?" ♂":"2"===this.sex?" ♀":""}}},As=Vs,Js=(s("1919"),Object(c["a"])(As,Ms,qs,!1,null,"303a6082",null)),Xs=Js.exports,Ws=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"mypersonalMain"}},[s("publishReward",{directives:[{name:"show",rawName:"v-show",value:e.isMaskReward,expression:"isMaskReward"}],staticClass:"publishReward",on:{"child-ok":e.childok1,"child-back":e.childback1}}),s("publishLearn",{directives:[{name:"show",rawName:"v-show",value:e.isMaskLearn,expression:"isMaskLearn"}],staticClass:"publishReward",on:{"child-ok":e.childok2,"child-back":e.childback2}}),s("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"add",attrs:{round:"",icon:"el-icon-plus"},on:{click:e.publish}}),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"mypersonaltop"},[s("i",{staticClass:"el-icon-back",on:{click:e.back}}),s("div",{staticClass:"mypersonalMiddle"},[s("div",{staticClass:"mypersonalIntroduction"},[s("div",{staticClass:"mypersonalImg"},[s("img",{staticClass:"mypersonalImg",attrs:{src:e.userImage}})]),s("div",{staticClass:"mypersonalText"},[s("span",{staticStyle:{"font-size":"1.75rem"}},[e._v(e._s(e.username+e.gender))]),s("span",{staticClass:"mypersonalWords"},[e._v("个性签名："+e._s(e.sign))]),s("span",{staticClass:"mypersonalWords"},[e._v("个人简介："+e._s(e.introduction))])])]),s("div",{staticClass:"mypersonalContents"},[e.showLoading?s("el-button",{staticClass:"mainMore",attrs:{loading:!0}}):e._e()],1)]),s("div",{staticClass:"mypersonalpageBar"},[s("personalpageBar",{attrs:{activeIndex:e.activeIndex}})],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"mypersonalwrapper"},[s("div",{staticClass:"mypersonalpageMain"},[s("v-touch",{ref:"wrapper",staticClass:"wrapper",on:{swiperight:e.swiperright,swipeleft:e.swiperleft}},[s("div",{staticClass:"list"},[s("router-view",{staticClass:"router",attrs:{id:this.$store.state.userId}})],1)])],1)])],1)},Ks=[],Qs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"publishRewardBox"},[s("div",{staticClass:"publishRewardMain"},[s("i",{staticClass:"el-icon-back",on:{click:e.back}}),s("span",[e._v("发布悬赏")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.publishRewardText,expression:"publishRewardText"}],attrs:{name:"发布",id:"publishReward",cols:"50",rows:"10",placeholder:"请输入发布内容"},domProps:{value:e.publishRewardText},on:{input:function(t){t.target.composing||(e.publishRewardText=t.target.value)}}}),s("div",{staticClass:"upload"},[s("el-upload",{ref:"upload",staticClass:"uploaditem",attrs:{action:"http://121.196.154.219:8083/rewardimages","auto-upload":!1,limit:9,"list-type":"picture-card","before-upload":e.showList,"on-error":e.showError,"on-success":e.showSuccess,"on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove}},[s("i",{staticClass:"el-icon-plus"})]),s("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),s("el-button",{attrs:{round:"",id:"publishRewardButton"},on:{click:e.publishRewards}},[e._v("发布")])],1)])},Zs=[],ea={data:function(){return{publishRewardText:"",dialogImageUrl:"",dialogVisible:!1,imgUrl:"",counter:0,imgNum:0}},props:{propsItem:{type:Object}},methods:{publishRewards:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:""==e.$store.state.userName?e.$message.warning("请先登录"):""==e.publishRewardText?e.$message.warning("发布内容不可为空"):(e.$refs.upload.submit(),e.$router.push({path:"/mypersonalPage/learningList"}));case 1:case"end":return t.stop()}}),t)})))()},showList:function(e){this.imgNum=this.imgNum+1,console.log("file:",e)},showError:function(e,t,s){console.log("error",e)},showSuccess:function(e,t,s){var a=this;return Object(d["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log("file:",t),console.log("fileList:",s),console.log("nums:",a.imgNum),console.log("success:",e),!(a.counter<a.imgNum-1)){n.next=10;break}a.imgUrl=a.imgUrl+"http://121.196.154.219:8083/images/"+e.detail+",",console.log(a.imgUrl),a.counter=a.counter+1,n.next=21;break;case 10:return a.imgUrl=a.imgUrl+"http://121.196.154.219:8083/images/"+e.detail,console.log("finish:",a.imgUrl),n.next=14,O(a.$store.state.userId,a.publishRewardText,a.imgUrl);case 14:r=n.sent,a.$emit("child-ok"),console.log(r),a.publishRewardText="",a.$refs.upload.clearFiles(),a.imgNum=0,a.counter=0;case 21:case"end":return n.stop()}}),n)})))()},handleRemove:function(e,t){console.log(e,t)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},back:function(){this.$emit("child-back")}},components:{}},ta=ea,sa=(s("c365"),Object(c["a"])(ta,Qs,Zs,!1,null,"1bf2518d",null)),aa=sa.exports,na=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"publishLearnBox"},[s("div",{staticClass:"publishLearnMain"},[s("i",{staticClass:"el-icon-back",on:{click:e.back}}),s("span",[e._v("发布学习资源")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.publishLearnText,expression:"publishLearnText"}],attrs:{name:"发布",id:"publishLearn",cols:"50",rows:"10",placeholder:"请输入发布内容"},domProps:{value:e.publishLearnText},on:{input:function(t){t.target.composing||(e.publishLearnText=t.target.value)}}}),s("div",{staticClass:"upload"},[s("el-upload",{ref:"upload1",staticClass:"uploaditem",attrs:{action:"http://121.196.154.219:8083/rewardimages","auto-upload":!1,limit:9,"file-list":e.photoList,"list-type":"picture-card","before-upload":e.showList1,"on-preview":e.handlePictureCardPreview1,"on-remove":e.handleRemove1,"on-error":e.showError1,"on-success":e.showSuccess1}},[s("i",{staticClass:"el-icon-plus"})]),s("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),s("el-upload",{ref:"upload2",staticClass:"upload-demo",attrs:{action:"http://121.196.154.219:8083/rewardvideos","on-remove":e.handleRemove2,"file-list":e.videoList,"auto-upload":!1,"before-upload":e.showList2,"on-error":e.showError2,"on-success":e.showSuccess2}},[s("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取视频")])],1),s("el-upload",{ref:"upload3",staticClass:"upload-demo",attrs:{action:"http://121.196.154.219:8083/rewardfiles","on-remove":e.handleRemove3,"file-list":e.fileList,"auto-upload":!1,"before-upload":e.showList3,"on-error":e.showError3,"on-success":e.showSuccess3}},[s("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")])],1)],1),s("el-button",{attrs:{round:"",id:"publishLearnButton"},on:{click:e.publishLearn}},[e._v("发布")])],1)])},ra=[],ia={data:function(){return{publishLearnText:"",dialogImageUrl:"",dialogVisible:!1,photoList:[],videoList:[],fileList:[],imgUrl:"",videoUrl:"",fileUrl:"",counter1:0,counter2:0,counter3:0,imgNum:0,videoNum:0,fileNum:0,videoName:"",fileName:"",updatestate:!0}},props:{propsItem:{type:Object}},methods:{publishLearn:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:""==e.$store.state.userName?e.$message.warning("请先登录"):""==e.publishRewardText?e.$message.warning("发布内容不可为空"):(e.$refs.upload1.submit(),e.$refs.upload2.submit(),e.$refs.upload3.submit(),e.$router.push({path:"/mypersonalPage/rewardList"}));case 1:case"end":return t.stop()}}),t)})))()},showList1:function(e){this.imgNum=this.imgNum+1,console.log("file:",e)},showList2:function(e){this.videoNum=this.videoNum+1,this.videoName=this.videoName+e.name+",",console.log("name:",e.name)},showList3:function(e){this.fileNum=this.fileNum+1,this.fileName=this.fileName+e.name+",",console.log("name:",this.fileName)},showError1:function(e,t,s){console.log("error",e),this.$message.warning("图片上传失败"),this.updatestate=!1},showError2:function(e,t,s){console.log("error",e),this.$message.warning("视频上传失败"),this.updatestate=!1},showError3:function(e,t,s){console.log("error",e),this.$message.warning("文件上传失败"),this.updatestate=!1},showSuccess1:function(e,t,s){var a=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("nums:",a.imgNum),console.log("counter1:",a.counter1),console.log("success:",e),a.counter1<a.imgNum&&(a.imgUrl=a.imgUrl+"http://121.196.154.219:8083/images/"+e.detail+",",console.log("imgurl:",a.imgUrl),a.counter1=a.counter1+1),console.log("nums1:",a.imgNum),console.log("counter1:",a.counter1),console.log("nums2:",a.videoNum),console.log("counter2:",a.counter2),console.log("nums3:",a.fileNum),console.log("counter3:",a.counter3),a.counter1!==a.imgNum||a.counter2!==a.videoNum||a.counter3!==a.fileNum){t.next=29;break}return console.log("finish:",a.imgUrl),t.next=14,B(a.$store.state.userId,a.publishLearnText,a.imgUrl,a.videoUrl,a.fileUrl,a.videoName,a.fileName);case 14:s=t.sent,console.log(s),a.updatestate&&a.$emit("child-ok"),a.publishLearnText="",a.$refs.upload1.clearFiles(),a.$refs.upload2.clearFiles(),a.$refs.upload3.clearFiles(),a.imgNum=0,a.videoNum=0,a.fileNum=0,a.videoName="",a.fileName="",a.counter1=0,a.counter2=0,a.counter3=0;case 29:case"end":return t.stop()}}),t)})))()},showSuccess2:function(e,t,s){var a=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("nums:",a.videoNum),console.log("counter2:",a.counter2),console.log("success:",e),a.counter2<a.videoNum&&(a.videoUrl=a.videoUrl+"http://121.196.154.219:8083/videos/"+e.detail+",",console.log("videoUrl:",a.videoUrl),a.counter2=a.counter2+1),a.counter1!==a.imgNum||a.counter2!==a.videoNum||a.counter3!==a.fileNum){t.next=24;break}return console.log("finish:",a.publishLearnText),console.log("finish:",a.videoUrl),t.next=9,B(a.$store.state.userId,a.publishLearnText,a.imgUrl,a.videoUrl,a.fileUrl,a.videoName,a.fileName);case 9:s=t.sent,a.updatestate&&a.$emit("child-ok"),console.log(s),a.publishLearnText="",a.$refs.upload1.clearFiles(),a.$refs.upload2.clearFiles(),a.$refs.upload3.clearFiles(),a.imgNum=0,a.videoNum=0,a.fileNum=0,a.videoName="",a.fileName="",a.counter1=0,a.counter2=0,a.counter3=0;case 24:case"end":return t.stop()}}),t)})))()},showSuccess3:function(e,t,s){var a=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("nums:",a.fileNum),console.log("counter3:",a.counter3),console.log("success:",e),a.counter3<a.fileNum&&(a.fileUrl=a.fileUrl+"http://121.196.154.219:8083/files/"+e.detail+",",console.log("fileUrl",a.fileUrl),a.counter3=a.counter3+1),console.log("nums1:",a.imgNum),console.log("counter1:",a.counter1),console.log("nums2:",a.videoNum),console.log("counter2:",a.counter2),console.log("nums3:",a.fileNum),console.log("counter3:",a.counter3),a.counter1!==a.imgNum||a.counter2!==a.videoNum||a.counter3!==a.fileNum){t.next=29;break}return console.log("finish:",a.fileUrl),t.next=14,B(a.$store.state.userId,a.publishLearnText,a.imgUrl,a.videoUrl,a.fileUrl,a.videoName,a.fileName);case 14:s=t.sent,a.updatestate&&a.$emit("child-ok"),console.log(s),a.publishLearnText="",a.$refs.upload1.clearFiles(),a.$refs.upload2.clearFiles(),a.$refs.upload3.clearFiles(),a.imgNum=0,a.videoNum=0,a.fileNum=0,a.videoName="",a.fileName="",a.counter1=0,a.counter2=0,a.counter3=0;case 29:case"end":return t.stop()}}),t)})))()},back:function(){this.$emit("child-back")},handleRemove1:function(e,t){console.log(e,t)},handleRemove2:function(e,t){console.log(e,t)},handleRemove3:function(e,t){console.log(e,t)},handlePictureCardPreview1:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0}},components:{}},oa=ia,ca=(s("2ece"),Object(c["a"])(oa,na,ra,!1,null,"6956380e",null)),la=ca.exports,ua={components:{personalpageBar:Fs,swiper:Ee["swiper"],swiperSlide:Ee["swiperSlide"],publishReward:aa,publishLearn:la},data:function(){return{isMaskReward:!1,isMaskLearn:!1,datas:[],scroll:!0,pageNum:1,totalNum:1,showLoading:!1,username:this.$store.state.userName,userImage:this.$store.state.userImage,sign:this.$store.state.sign,introduction:this.$store.state.introduction,sex:this.$store.state.sex,activeIndex:"1"}},mounted:function(){this.loadData();var e=document.querySelector(".mypersonalMiddle").offsetHeight,t=document.querySelector(".mypersonalpageBar").offsetHeight,s=document.querySelector(".mypersonaltop").offsetHeight,a=document.querySelector(".mypersonalwrapper").offsetHeight;a=a+s-e-t;var n=document.getElementsByClassName("mypersonalwrapper");n[0].style.height=a+"px","/mypersonalPage/learningList"===this.$route.path?this.activeIndex="2":this.activeIndex="1"},methods:{mypersonalChange:function(){this.$router.push("/profile")},back:function(){this.$router.push("/helper")},swiperright:function(){console.log("r"),"2"===this.activeIndex&&(this.$router.push({path:"/mypersonalPage/rewardList"}),this.activeIndex="1",console.log("r2"))},swiperleft:function(){console.log("l"),console.log(this.activeIndex),"1"===this.activeIndex&&(this.$router.push({path:"/mypersonalPage/learningList"}),this.activeIndex="2",console.log("l2"))},loadData:function(){var e=this;this.$nextTick((function(){var t=document.querySelector(".mypersonalwrapper");e.scroll=new qe["a"](t,Object(ae["a"])({pullUpLoad:!0,scrollX:!0,click:!0,tap:!0},"pullUpLoad",{threshold:-30})),e.scroll.on("pullingUp",(function(){console.log("jz"),e.scroll.finishPullUp()}))}))},publish:function(){"/mypersonalPage/rewardList"===this.$route.path?this.isMaskReward=!0:"/mypersonalPage/learningList"===this.$route.path&&(this.isMaskLearn=!0)},childok1:function(){this.$message.info("ok"),this.isMaskReward=!1,this.$router.push({path:"/mypersonalPage/rewardList"})},childback1:function(){this.isMaskReward=!1},childok2:function(){this.$message.info("ok"),this.isMaskLearn=!1,this.$router.push({path:"/mypersonalPage/learningList"})},childback2:function(){this.isMaskLearn=!1}},computed:{showChange:function(){return this.username===this.$store.state.userName},isShow:function(){return!(this.isMaskReward||this.isMaskLearn)},gender:function(){return"1"===this.sex?" ♂":"2"===this.sex?" ♀":""}},updated:function(){this.scroll.refresh(),this.scroll.finishPullUp()}},ha=ua,da=(s("d4c2"),Object(c["a"])(ha,Ws,Ks,!1,null,"0babc8da",null)),ma=da.exports;r["default"].use(m["a"]);var pa=[{path:"/",redirect:"/main"},{path:"/main",component:Ge},{path:"/my_navbar",component:ue},{path:"/login",name:"login",component:J},{path:"/regist",name:"regist",component:ee},{path:"/profile",name:"profile",component:Xe},{path:"/newsdetail",name:"newsdetail",component:tt},{path:"/helper",component:mt,redirect:"/helper/rewardList",children:[{path:"rewardList",component:$t},{path:"learningList",component:Et}]},{path:"/rewardDetail",name:"rewardDetail",component:Gt},{path:"/learningDetail",name:"learningDetail",component:os},{path:"/videoPlayerPage",name:"videoPlayerPage",component:ms},{path:"/personalPage",name:"personalPage",component:Xs,redirect:"/personalPage/rewardList",children:[{path:"rewardList",component:$t},{path:"learningList",component:Et}]},{path:"/mypersonalPage",name:"mypersonalPage",component:ma,redirect:"/mypersonalPage/rewardList",children:[{path:"rewardList",component:$t},{path:"learningList",component:Et}]},{path:"/chat",name:"chat",component:js},{path:"/chatDetail",name:"chatDetail",component:Es}],ga=new m["a"]({mode:"hash",base:"",routes:pa}),fa=m["a"].prototype.push;m["a"].prototype.push=function(e){return fa.call(this,e).catch((function(e){return e}))},ga.beforeEach(function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t,s,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null==sessionStorage.getItem("loginState")||g.state.loginState||(g.state.loginState=sessionStorage.getItem("loginState"),g.state.userName=sessionStorage.getItem("userName"),g.state.userId=sessionStorage.getItem("userId"),g.state.userMail=sessionStorage.getItem("userMail"),g.state.sex=sessionStorage.getItem("sex"),g.state.sign=sessionStorage.getItem("sign"),g.state.introduction=sessionStorage.getItem("introduction"),g.state.userImage=sessionStorage.getItem("userImage"),console.log(sessionStorage.getItem("userName"),g.state.userName),console.log("state",g.state.loginState)),console.log("state",g.state.loginState),"regist"===t.name||"login"===t.name||sessionStorage.getItem("loginState")?a():a({name:"login"});case 3:case"end":return e.stop()}}),e)})));return function(t,s,a){return e.apply(this,arguments)}}());var va=ga,wa=(s("0fae"),s("ca95")),xa=s.n(wa),ba=s("d6d3"),ya=s.n(ba),ka=s("5c96"),Ca=s.n(ka),Na=s("d1d4"),$a=s.n(Na);s("394c");r["default"].use(ya.a),r["default"].use(Me.a),r["default"].use(xa.a,{name:"v-touch"}),r["default"].config.productionTip=!1,r["default"].use(Ca.a),r["default"].use($a.a),new r["default"]({router:va,store:g,render:function(e){return e(h)}}).$mount("#app");var _a=Symbol("showMessage"),Ia=null,Sa=function(){function e(){Object(a["a"])(this,e)}return Object(n["a"])(e,[{key:"success",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this[_a]("success",e,t)}},{key:"warning",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this[_a]("warning",e,t)}},{key:"info",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this[_a]("info",e,t)}},{key:"error",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this[_a]("error",e,t)}},{key:_a,value:function(e,t,s){Ia&&s&&Ia.close(),Ia=ka["Message"][e](t)}}]),e}();r["default"].use(Ca.a),r["default"].prototype.$message=new Sa},"605c":function(e,t,s){},"61ab":function(e,t,s){"use strict";s("caa6")},6294:function(e,t,s){},"66ef":function(e,t,s){e.exports=s.p+"img/lt.a3eceddb.png"},"6a71":function(e,t,s){},"777c":function(e,t,s){"use strict";s("eb96")},"840b":function(e,t,s){"use strict";s("a20c")},8534:function(e,t,s){},"85ec":function(e,t,s){},"8d9b":function(e,t,s){},"8f37":function(e,t,s){},9482:function(e,t,s){},"95c8":function(e,t,s){},"997f":function(e,t,s){"use strict";s("f0a2")},a20c:function(e,t,s){},a553:function(e,t,s){"use strict";s("6a71")},abe7:function(e,t,s){},b91e:function(e,t,s){},b97d:function(e,t,s){},bab6:function(e,t,s){"use strict";s("9482")},bee0:function(e,t,s){"use strict";s("b97d")},c365:function(e,t,s){"use strict";s("3ae5")},c404:function(e,t,s){},c71d:function(e,t,s){"use strict";s("b91e")},caa6:function(e,t,s){},d2cb:function(e,t,s){},d4c2:function(e,t,s){"use strict";s("f8aa")},d6f3:function(e,t,s){"use strict";s("abe7")},d77f:function(e,t,s){"use strict";s("c404")},daae:function(e,t,s){},df0a:function(e,t,s){e.exports=s.p+"img/zhuye.8f2b79be.png"},e069:function(e,t,s){"use strict";s("605c")},e259:function(e,t,s){e.exports=s.p+"img/wode.1bf29229.png"},e6c8:function(e,t,s){"use strict";s("129e")},e755:function(e,t,s){"use strict";s("95c8")},e8d3:function(e,t,s){},ea40:function(e,t,s){"use strict";s("ee5f")},eb96:function(e,t,s){},ed1c:function(e,t,s){"use strict";s("d2cb")},ee5f:function(e,t,s){},f0a2:function(e,t,s){},f8aa:function(e,t,s){},fcde:function(e,t,s){"use strict";s("3758")}});
//# sourceMappingURL=app.81d36c20.js.map